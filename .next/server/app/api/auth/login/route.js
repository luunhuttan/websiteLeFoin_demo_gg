"use strict";(()=>{var e={};e.id=8873,e.ids=[8873],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},66440:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>g,originalPathname:()=>f,patchFetch:()=>w,requestAsyncStorage:()=>m,routeModule:()=>p,serverHooks:()=>c,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>h});var a={};t.r(a),t.d(a,{POST:()=>l});var i=t(95419),s=t(69108),o=t(99678),n=t(19631),u=t(7529);async function l(e){try{let{email:r,password:t}=await e.json();if(!r||!t)return new Response(JSON.stringify({error:"Missing email or password"}),{status:400});let a=await n.Z.user.findUnique({where:{email:r}});if(!a||!await u.ZP.compare(t,a.password))return new Response(JSON.stringify({error:"Invalid email or password"}),{status:401});let i=a.firstName||a.lastName?`${a.firstName||""} ${a.lastName||""}`.trim():a.email;return new Response(JSON.stringify({id:a.id,email:a.email,role:a.role,name:i,firstName:a.firstName,lastName:a.lastName,avatar:a.avatar}),{status:200})}catch(e){return console.error("Login error:",e),new Response(JSON.stringify({error:"Internal server error"}),{status:500})}}let p=new i.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/auth/login/route",pathname:"/api/auth/login",filename:"route",bundlePath:"app/api/auth/login/route"},resolvedPagePath:"D:\\websiteLeFoin_demo_gg\\src\\app\\api\\auth\\login\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:m,staticGenerationAsyncStorage:d,serverHooks:c,headerHooks:g,staticGenerationBailout:h}=p,f="/api/auth/login/route";function w(){return(0,o.patchFetch)({serverHooks:c,staticGenerationAsyncStorage:d})}},95419:(e,r,t)=>{e.exports=t(30517)},19631:(e,r,t)=>{t.d(r,{Z:()=>s,_:()=>i});let a=require("@prisma/client"),i=globalThis.prisma??new a.PrismaClient,s=i}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[1638,7529],()=>t(66440));module.exports=a})();
"use strict";(()=>{var e={};e.id=3002,e.ids=[3002],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},52680:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>g,originalPathname:()=>f,patchFetch:()=>w,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>c,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>h});var s={};t.r(s),t.d(s,{POST:()=>l});var a=t(95419),i=t(69108),n=t(99678),o=t(19631),u=t(7529);async function l(e){try{let{email:r,password:t,firstName:s,lastName:a}=await e.json();if(!r||!t)return new Response(JSON.stringify({error:"Missing email or password"}),{status:400});if(t.length<6)return new Response(JSON.stringify({error:"Password must be at least 6 characters"}),{status:400});if(!r.includes("@"))return new Response(JSON.stringify({error:"Invalid email format"}),{status:400});if(await o.Z.user.findUnique({where:{email:r}}))return new Response(JSON.stringify({error:"Email already exists"}),{status:409});let i=await u.ZP.hash(t,10),n=new Date,l=await o.Z.user.create({data:{email:r,password:i,firstName:s||null,lastName:a||null,updatedAt:n}});return new Response(JSON.stringify({id:l.id,email:l.email,role:l.role,firstName:l.firstName,lastName:l.lastName}),{status:201})}catch(e){return console.error("Register error:",e),new Response(JSON.stringify({error:"Internal server error"}),{status:500})}}let p=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/auth/register/route",pathname:"/api/auth/register",filename:"route",bundlePath:"app/api/auth/register/route"},resolvedPagePath:"D:\\websiteLeFoin_demo_gg\\src\\app\\api\\auth\\register\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:c,headerHooks:g,staticGenerationBailout:h}=p,f="/api/auth/register/route";function w(){return(0,n.patchFetch)({serverHooks:c,staticGenerationAsyncStorage:m})}},95419:(e,r,t)=>{e.exports=t(30517)},19631:(e,r,t)=>{t.d(r,{Z:()=>i,_:()=>a});let s=require("@prisma/client"),a=globalThis.prisma??new s.PrismaClient,i=a}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[1638,7529],()=>t(52680));module.exports=s})();
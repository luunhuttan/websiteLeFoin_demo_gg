(()=>{var e={};e.id=1931,e.ids=[1931],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13148:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>d,routeModule:()=>g,tree:()=>c});var n=r(50482),s=r(69108),a=r(62563),i=r.n(a),o=r(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,51136)),"D:\\websiteLeFoin_demo_gg\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,58188)),"D:\\websiteLeFoin_demo_gg\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,24117)),"D:\\websiteLeFoin_demo_gg\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\websiteLeFoin_demo_gg\\src\\app\\page.tsx"],x="/page",p={require:r,loadChunk:()=>Promise.resolve()},g=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},63321:(e,t,r)=>{Promise.resolve().then(r.bind(r,91532))},90978:(e,t)=>{"use strict";function r(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},91532:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var n=r(95344),s=r(3729),a=r(90978),i=r.n(a),o=r(1060),l=r(8428),c=r(95231);let d=[{vi:"Tất cả",en:"All"},{vi:"Sản phẩm",en:"Products"},{vi:"C\xe2u chuyện",en:"Stories"},{vi:"Sống xanh",en:"Green Living"}];function x(){let{t:e,locale:t}=(0,o.useLanguage)(),[r,a]=(0,s.useState)([]),[x,p]=(0,s.useState)(!0),[g,u]=(0,s.useState)("Tất cả"),[m,h]=(0,s.useState)(1),[f,b]=(0,s.useState)(!1),[j,v]=(0,s.useState)(""),[y,w]=(0,s.useState)(!1),[k,N]=(0,s.useState)([]),[_,S]=(0,s.useState)("Tất cả"),T=(0,s.useRef)(null),R=(0,l.useSearchParams)(),P=d.map(e=>e[t]);(0,s.useEffect)(()=>{u(P[0])},[t]),(0,s.useEffect)(()=>{fetch("/api/articles").then(e=>e.json()).then(e=>{a(e),p(!1)})},[]),(0,s.useEffect)(()=>{fetch("/api/tags").then(e=>e.json()).then(e=>{Array.isArray(e)?N(["Tất cả",...e.map(e=>e.name)]):N(["Tất cả"])})},[]),(0,s.useEffect)(()=>{if(0===k.length)return;let e=R?.get("tag");e&&k.includes(e)?(S(e),h(1),setTimeout(()=>{T.current?.scrollIntoView({behavior:"smooth"})},100)):S("Tất cả")},[R,k]);let C=r.map(e=>{let t={};try{t=JSON.parse(e.content)}catch{}let r=Array.isArray(e.tags)?e.tags.map(e=>e.name?e:e.tag).filter(Boolean):[],n=r.map(e=>e.name);return{...e,content:t,tags:n,tagObjs:r}}),A="Tất cả"===_?C:C.filter(e=>Array.isArray(e.tags)&&e.tags.includes(_)),M=Math.ceil(A.length/6),L=A.slice((m-1)*6,6*m),E=A[0];function O(e){e>=1&&e<=M&&h(e)}return((0,s.useEffect)(()=>{let e=()=>{b(window.scrollY>200)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),x)?n.jsx("div",{style:{textAlign:"center",padding:40},children:"Đang tải b\xe0i viết..."}):E?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i(),{children:[n.jsx("title",{children:e("home.title")}),n.jsx("meta",{name:"description",content:e("home.description")}),n.jsx("meta",{property:"og:title",content:e("home.title")}),n.jsx("meta",{property:"og:description",content:e("home.description")}),n.jsx("meta",{property:"og:image",content:"/images/og-lefoin.jpg"}),n.jsx("meta",{property:"og:url",content:"https://lefoin.vn/"}),n.jsx("meta",{property:"og:type",content:"website"}),n.jsx("meta",{name:"twitter:title",content:e("home.title")}),n.jsx("meta",{name:"twitter:description",content:e("home.description")}),n.jsx("meta",{name:"twitter:image",content:"/images/og-lefoin.jpg"}),n.jsx("meta",{name:"twitter:card",content:"summary_large_image"})]}),(0,n.jsxs)("section",{className:"featured-article",children:[n.jsx("img",{src:E.content?.[t]?.image||"/images/og-lefoin.jpg",alt:E.title}),(0,n.jsxs)("div",{className:"featured-content",children:[n.jsx("span",{className:"category",children:E.content?.[t]?.category}),n.jsx("h2",{children:E.title.split(" / ")["vi"===t?0:1]}),n.jsx("p",{children:E.content?.[t]?.excerpt})]})]}),(0,n.jsxs)("section",{className:"hero",children:[n.jsx("h1",{children:e("home.hero.title")}),n.jsx("p",{children:e("home.hero.subtitle")}),(0,n.jsxs)("a",{href:"/articles",className:"cta",children:[e("home.hero.cta"),n.jsx("svg",{viewBox:"0 0 20 20",children:n.jsx("path",{d:"M7 5l5 5-5 5",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),(0,n.jsxs)("section",{className:"articles",ref:T,children:[n.jsx("h2",{children:e("home.featured.title")}),n.jsx("div",{style:{textAlign:"center",marginBottom:32,display:"flex",flexWrap:"wrap",justifyContent:"center",gap:8},children:k.map((e,t)=>n.jsx("button",{onClick:()=>{S(e),h(1),setTimeout(()=>{T.current?.scrollIntoView({behavior:"smooth"})},100)},"aria-label":"Lọc b\xe0i viết theo tag: "+e,title:"Tất cả"===e?"Xem tất cả b\xe0i viết":`Xem c\xe1c b\xe0i viết với tag " ${e} "`,style:{margin:0,padding:"8px 20px",borderRadius:20,border:"Tất cả"===e?"none":_===e?"none":"1.5px solid #2a7ae4",background:_===e?"#2a7ae4":"Tất cả"===e?"#1976d2":"#fff",color:_===e||"Tất cả"===e?"#fff":"#2a7ae4",fontWeight:600,fontSize:"1rem",boxShadow:_===e?"0 2px 8px rgba(42,122,228,0.10)":"none",cursor:"pointer",transition:"all 0.18s",minWidth:80,outline:_===e?"2px solid #1565c0":"none",position:"relative"},onMouseOver:t=>t.currentTarget.style.background=_===e?"#1565c0":"#e3f2fd",onMouseOut:t=>t.currentTarget.style.background=_===e?"#2a7ae4":"Tất cả"===e?"#1976d2":"#fff",children:e},e))}),n.jsx("div",{className:"articles-list",children:L.map(e=>(0,n.jsxs)("div",{className:"article-card",style:{borderRadius:18,background:"#fff",boxShadow:"0 2px 12px #eee",padding:0,overflow:"hidden",display:"flex",flexDirection:"column",minHeight:380,marginBottom:24},children:[n.jsx("img",{src:e.content?.[t]?.image||"/images/og-lefoin.jpg",alt:e.content?.[t]?.title||e.title,style:{width:"100%",height:180,objectFit:"cover",borderTopLeftRadius:18,borderTopRightRadius:18}}),(0,n.jsxs)("div",{style:{padding:20,flex:1,display:"flex",flexDirection:"column"},children:[Array.isArray(e.tagObjs)&&e.tagObjs.length>0&&n.jsx("span",{style:{background:"#e3f2fd",color:"#1976d2",borderRadius:12,padding:"2px 12px",fontSize:13,fontWeight:500,marginBottom:8,alignSelf:"flex-start"},children:e.tagObjs[0].name}),n.jsx("h3",{style:{fontWeight:700,fontSize:18,margin:"8px 0 4px 0",color:"#2056c9",cursor:"pointer"},onClick:()=>window.location.href=`/articles/${e.id}`,children:e.content?.[t]?.title||e.title}),n.jsx("div",{style:{color:"#555",marginBottom:16,flex:1},children:e.content?.[t]?.excerpt}),n.jsx("button",{onClick:()=>window.location.href=`/articles/${e.id}`,style:{background:"#2a7ae4",color:"#fff",border:"none",borderRadius:8,padding:"8px 20px",fontWeight:600,cursor:"pointer",alignSelf:"flex-start"},children:"Đọc tiếp →"})]})]},e.id))}),M>1&&(0,n.jsxs)("div",{className:"pagination",children:[n.jsx("button",{onClick:()=>O(m-1),disabled:1===m,style:{padding:"8px 16px",margin:"0 4px",border:"none",borderRadius:8,background:1===m?"#f0f0f0":"#2a7ae4",color:1===m?"#999":"#fff",cursor:1===m?"not-allowed":"pointer",transition:"all 0.18s"},children:"←"}),Array.from({length:M},(e,t)=>t+1).map(e=>n.jsx("button",{onClick:()=>O(e),style:{padding:"8px 16px",margin:"0 4px",border:"none",borderRadius:8,background:m===e?"#2a7ae4":"#fff",color:m===e?"#fff":"#2a7ae4",cursor:"pointer",transition:"all 0.18s",boxShadow:m===e?"0 2px 8px rgba(42,122,228,0.10)":"none"},children:e},e)),n.jsx("button",{onClick:()=>O(m+1),disabled:m===M,style:{padding:"8px 16px",margin:"0 4px",border:"none",borderRadius:8,background:m===M?"#f0f0f0":"#2a7ae4",color:m===M?"#999":"#fff",cursor:m===M?"not-allowed":"pointer",transition:"all 0.18s"},children:"→"})]})]}),n.jsx("section",{className:"review-summary",style:{padding:"60px 20px",background:"#f8f9fa"},children:n.jsx("div",{className:"container",style:{maxWidth:"1200px",margin:"0 auto"},children:n.jsx(c.Z,{})})}),n.jsx("section",{className:"newsletter",children:(0,n.jsxs)("div",{className:"newsletter-content",children:[n.jsx("h2",{children:"Đăng k\xfd nhận tin tức"}),n.jsx("p",{children:"Nhận th\xf4ng tin mới nhất về sản phẩm v\xe0 b\xe0i viết từ Le Foin"}),(0,n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j.trim()&&j.includes("@")&&(w(!0),v(""),setTimeout(()=>w(!1),4e3))},className:"newsletter-form",children:[n.jsx("input",{type:"email",placeholder:"Nhập email của bạn",value:j,onChange:e=>v(e.target.value),required:!0,style:{padding:"12px 16px",borderRadius:8,border:"1px solid #ddd",fontSize:"1rem",width:"300px",marginRight:"12px"}}),n.jsx("button",{type:"submit",style:{padding:"12px 24px",borderRadius:8,border:"none",background:"#2a7ae4",color:"#fff",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"background 0.18s"},children:"Đăng k\xfd"})]}),y&&n.jsx("p",{style:{color:"#2ecc71",marginTop:"12px"},children:"Cảm ơn bạn đ\xe3 đăng k\xfd! Ch\xfang t\xf4i sẽ gửi tin tức mới nhất đến email của bạn."})]})}),f&&n.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),style:{position:"fixed",bottom:"20px",right:"20px",width:"50px",height:"50px",borderRadius:"50%",background:"#2a7ae4",color:"#fff",border:"none",cursor:"pointer",boxShadow:"0 4px 12px rgba(42,122,228,0.3)",transition:"all 0.18s",zIndex:1e3},onMouseOver:e=>{e.currentTarget.style.transform="scale(1.1)",e.currentTarget.style.boxShadow="0 6px 16px rgba(42,122,228,0.4)"},onMouseOut:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="0 4px 12px rgba(42,122,228,0.3)"},children:"↑"})]}):n.jsx("div",{style:{textAlign:"center",padding:40},children:"Chưa c\xf3 b\xe0i viết n\xe0o."})}},95231:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(95344),s=r(3729);function a({productId:e}){let[t,r]=(0,s.useState)(null),[a,i]=(0,s.useState)(!0);(0,s.useEffect)(()=>{o()},[e]);let o=async()=>{try{let t=e?`/api/reviews/stats?productId=${e}`:"/api/reviews/stats",n=await fetch(t);if(n.ok){let e=await n.json();r(e)}}catch(e){console.error("Error fetching review stats:",e)}finally{i(!1)}};return a?(0,n.jsxs)("div",{className:"text-center py-8",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-amber-500"}),n.jsx("p",{className:"mt-2",children:"Đang tải thống k\xea..."})]}):t&&0!==t.totalReviews?(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-leaf mb-4",children:"Đ\xe1nh gi\xe1 từ kh\xe1ch h\xe0ng"}),(0,n.jsxs)("div",{className:"flex items-center gap-6 mb-6",children:[(0,n.jsxs)("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-amber-600",children:t.averageRating}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Điểm trung b\xecnh"})]}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(e=>{let t=Math.floor(e),r=e%1!=0;return n.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(e=>n.jsx("span",{className:"text-lg",children:e<=t?"⭐":e===t+1&&r?"⭐":"☆"},e))})})(Math.round(t.averageRating)),(0,n.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["(",t.totalReviews," đ\xe1nh gi\xe1)"]})]}),n.jsx("div",{className:"space-y-1",children:[5,4,3,2,1].map(e=>(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)("span",{className:"text-sm w-8",children:[e,"⭐"]}),n.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:n.jsx("div",{className:"bg-amber-500 h-2 rounded-full",style:{width:`${t.totalReviews>0?t.ratingCounts[e]/t.totalReviews*100:0}%`}})}),n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300 w-8",children:t.ratingCounts[e]})]},e))})]})]}),n.jsx("div",{className:"text-center",children:(0,n.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Dựa tr\xean ",t.totalReviews," đ\xe1nh gi\xe1 từ kh\xe1ch h\xe0ng thực tế"]})})]}):null}},51136:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>s,default:()=>i});let n=(0,r(86843).createProxy)(String.raw`D:\websiteLeFoin_demo_gg\src\app\page.tsx`),{__esModule:s,$$typeof:a}=n,i=n.default}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[1638,2659,2263],()=>r(13148));module.exports=n})();
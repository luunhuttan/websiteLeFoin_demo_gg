(()=>{var e={};e.id=8512,e.ids=[8512],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},57966:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>c,routeModule:()=>g,tree:()=>d});var i=r(50482),n=r(69108),s=r(62563),o=r.n(s),a=r(68300),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let d=["",{children:["user",{children:["history",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,15883)),"D:\\websiteLeFoin_demo_gg\\src\\app\\user\\history\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,58188)),"D:\\websiteLeFoin_demo_gg\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,24117)),"D:\\websiteLeFoin_demo_gg\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\websiteLeFoin_demo_gg\\src\\app\\user\\history\\page.tsx"],p="/user/history/page",x={require:r,loadChunk:()=>Promise.resolve()},g=new i.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/user/history/page",pathname:"/user/history",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},64619:(e,t,r)=>{Promise.resolve().then(r.bind(r,69223))},69223:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var i=r(95344),n=r(3729),s=r(47674),o=r(8428),a=r(17914);function l(){let{data:e,status:t}=(0,s.useSession)(),r=(0,o.useRouter)(),[l,d]=(0,n.useState)([]),[c,p]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{if("loading"!==t){if(!e){r.push("/auth");return}fetch("/api/user/history").then(e=>e.json()).then(e=>{e.articles&&d(e.articles),p(!1)}).catch(e=>{console.error("Error fetching history:",e),p(!1)})}},[e,t,r]),"loading"===t||c)?i.jsx("div",{style:{textAlign:"center",padding:"60px 20px",background:"linear-gradient(135deg, #D9E4E2 0%, #AFCBBB 100%)",minHeight:"100vh"},children:i.jsx("div",{style:{fontSize:"18px",color:"#7A5C42"},children:"Đang tải lịch sử xem..."})}):e?i.jsx("div",{style:{background:"linear-gradient(135deg, #D9E4E2 0%, #AFCBBB 100%)",minHeight:"100vh",padding:"40px 20px"},children:(0,i.jsxs)("div",{style:{maxWidth:1200,margin:"0 auto"},children:[(0,i.jsxs)(a.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[i.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:"700",color:"#7A5C42",textAlign:"center",marginBottom:"10px",fontFamily:"Playfair Display, serif"},children:"Lịch sử xem b\xe0i viết"}),i.jsx("p",{style:{textAlign:"center",color:"#48664E",fontSize:"1.1rem",marginBottom:"40px"},children:"Những b\xe0i viết bạn đ\xe3 xem gần đ\xe2y"})]}),0===l.length?(0,i.jsxs)(a.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},style:{textAlign:"center",padding:"60px 20px",background:"rgba(255, 255, 255, 0.8)",borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},children:[i.jsx("div",{style:{fontSize:"4rem",marginBottom:"20px"},children:"\uD83D\uDCD6"}),i.jsx("h3",{style:{fontSize:"1.5rem",color:"#7A5C42",marginBottom:"10px",fontWeight:"600"},children:"Chưa c\xf3 lịch sử xem"}),i.jsx("p",{style:{color:"#48664E",marginBottom:"30px",fontSize:"1rem"},children:"H\xe3y kh\xe1m ph\xe1 c\xe1c b\xe0i viết để tạo lịch sử xem nh\xe9!"}),i.jsx("button",{onClick:()=>r.push("/articles"),style:{background:"#E5873E",color:"#fff",border:"none",borderRadius:"50px",padding:"12px 24px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(229, 135, 62, 0.3)"},onMouseOver:e=>{e.currentTarget.style.background="#d17a36",e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 6px 16px rgba(229, 135, 62, 0.4)"},onMouseOut:e=>{e.currentTarget.style.background="#E5873E",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 12px rgba(229, 135, 62, 0.3)"},children:"Kh\xe1m ph\xe1 b\xe0i viết"})]}):i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"24px"},children:l.map((e,t)=>{let n={};try{n=JSON.parse(e.content)}catch{}let s=n.vi||n.en||{};return(0,i.jsxs)(a.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*t},style:{background:"rgba(255, 255, 255, 0.9)",borderRadius:"16px",overflow:"hidden",boxShadow:"0 8px 32px rgba(0,0,0,0.1)",transition:"all 0.3s ease",cursor:"pointer"},onMouseOver:e=>{e.currentTarget.style.transform="translateY(-8px)",e.currentTarget.style.boxShadow="0 12px 40px rgba(0,0,0,0.15)"},onMouseOut:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 8px 32px rgba(0,0,0,0.1)"},onClick:()=>r.push(`/articles/${e.id}`),children:[i.jsx("img",{src:s.image||"/images/og-lefoin.jpg",alt:s.title||e.title,style:{width:"100%",height:"200px",objectFit:"cover"}}),(0,i.jsxs)("div",{style:{padding:"24px"},children:[i.jsx("h3",{style:{fontSize:"1.3rem",fontWeight:"700",color:"#7A5C42",marginBottom:"12px",lineHeight:"1.4",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:s.title||e.title}),i.jsx("p",{style:{color:"#48664E",fontSize:"0.95rem",lineHeight:"1.6",marginBottom:"16px",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden"},children:s.excerpt||"Kh\xf4ng c\xf3 m\xf4 tả"}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[i.jsx("span",{style:{color:"#E5873E",fontSize:"0.9rem",fontWeight:"600"},children:new Date(e.createdAt).toLocaleDateString("vi-VN")}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"#48664E"},children:[(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:[i.jsx("path",{d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),i.jsx("span",{style:{fontSize:"0.9rem",fontWeight:"600"},children:new Date(e.viewedAt).toLocaleDateString("vi-VN")})]})]})]})]},e.id)})})]})}):null}},15883:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>s,__esModule:()=>n,default:()=>o});let i=(0,r(86843).createProxy)(String.raw`D:\websiteLeFoin_demo_gg\src\app\user\history\page.tsx`),{__esModule:n,$$typeof:s}=i,o=i.default}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[1638,2659,7914,2263],()=>r(57966));module.exports=i})();
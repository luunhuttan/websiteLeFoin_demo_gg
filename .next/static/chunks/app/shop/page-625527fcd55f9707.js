(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[21],{6620:function(e,t,a){Promise.resolve().then(a.bind(a,1227))},5601:function(e,t){"use strict";function a(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1227:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var n=a(3827),r=a(4090),i=a(5601),s=a.n(i),o=a(5495),l=a(8792);let c=[{id:1,name:"S\xe1ng da, giảm vi\xeam nang l\xf4ng Cam Sả Body Lotion",description:"Sữa dưỡng thể Lightening thẩm thấu nhanh",price:235e3,image:"/mua-hang/body_lotion.png",category:"Body Care",inStock:!0},{id:2,name:"Gel rửa mặt tạo bọt SẠCH s\xe2u S\xc1NG tự nhi\xean Face Wash",description:"PureDetox OrangeFarm CamCam Facewash",price:115e3,image:"/mua-hang/sua_rua_mat.png",category:"Face Care",inStock:!0},{id:3,name:"Kem dưỡng da tay Handcream Orange Farm",description:"Dưỡng ẩm v\xe0 bảo vệ da tay",price:115e3,image:"/mua-hang/kem_duong_da_tay.png",category:"Hand Care",inStock:!0}];function d(){let{t:e,locale:t}=(0,o.useLanguage)(),[a,i]=(0,r.useState)([]),[d,m]=(0,r.useState)(!0);(0,r.useEffect)(()=>{u()},[]);let u=async()=>{try{let e=await fetch("/api/products");if(e.ok){let t=await e.json(),a=await Promise.all(t.map(async e=>{try{let t=await fetch("/api/reviews?productId=".concat(e.id));if(t.ok){let a=await t.json();return{...e,averageRating:a.averageRating,totalReviews:a.totalReviews}}}catch(t){console.error("Error fetching reviews for product ".concat(e.id,":"),t)}return e}));i(a)}else i(c)}catch(e){console.error("Error fetching products:",e),i(c)}finally{m(!1)}},g=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),h=e=>{let t=Math.floor(e),a=e%1!=0;return(0,n.jsx)("div",{className:"flex gap-1",children:[1,2,3,4,5].map(e=>(0,n.jsx)("span",{className:"text-lg",children:e<=t?"⭐":e===t+1&&a?"⭐":"☆"},e))})};return d?(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-amber-500"}),(0,n.jsx)("p",{className:"mt-2",children:"Đang tải sản phẩm..."})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s(),{children:[(0,n.jsx)("title",{children:e("shop.title")}),(0,n.jsx)("meta",{name:"description",content:e("shop.description")}),(0,n.jsx)("meta",{property:"og:title",content:e("shop.title")}),(0,n.jsx)("meta",{property:"og:description",content:e("shop.description")}),(0,n.jsx)("meta",{property:"og:image",content:"/images/og-lefoin.jpg"}),(0,n.jsx)("meta",{property:"og:url",content:"https://lefoin.vn/shop"}),(0,n.jsx)("meta",{property:"og:type",content:"website"}),(0,n.jsx)("meta",{name:"twitter:title",content:e("shop.title")}),(0,n.jsx)("meta",{name:"twitter:description",content:e("shop.description")}),(0,n.jsx)("meta",{name:"twitter:image",content:"/images/og-lefoin.jpg"}),(0,n.jsx)("meta",{name:"twitter:card",content:"summary_large_image"})]}),(0,n.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-leaf mb-8 text-center",children:e("shop.heading")}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map(e=>(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[(0,n.jsxs)("div",{className:"relative h-64 bg-gray-100 dark:bg-gray-700",children:[(0,n.jsx)("img",{src:e.image||"/images/default-product.jpg",alt:e.name,className:"w-full h-full object-cover"}),!e.inStock&&(0,n.jsx)("div",{className:"absolute top-4 right-4 bg-red-500 text-white px-2 py-1 rounded text-sm font-semibold",children:"Hết h\xe0ng"})]}),(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-leaf mb-2 line-clamp-2",children:e.name}),e.description&&(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-2",children:e.description}),e.category&&(0,n.jsx)("span",{className:"inline-block bg-amber-100 text-amber-800 text-xs px-2 py-1 rounded-full mb-4",children:e.category}),e.averageRating&&e.totalReviews&&(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[h(e.averageRating),(0,n.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["(",e.totalReviews," đ\xe1nh gi\xe1)"]})]}),(0,n.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,n.jsx)("span",{className:"text-2xl font-bold text-amber-600",children:g(e.price)})}),(0,n.jsx)("div",{className:"flex gap-2",children:(0,n.jsx)("a",{href:"https://shopee.vn/search?keyword=".concat(encodeURIComponent(e.name)),target:"_blank",rel:"noopener noreferrer",className:"flex-1 py-2 px-4 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-semibold transition-colors text-center",children:"Mua tr\xean Shopee"})}),(0,n.jsx)("div",{className:"mt-4 text-center",children:(0,n.jsx)(l.default,{href:"/products/".concat(e.id,"/reviews"),className:"text-amber-600 hover:text-amber-700 text-sm font-medium transition-colors",children:"Xem đ\xe1nh gi\xe1 chi tiết →"})})]})]},e.id))}),(0,n.jsx)("div",{className:"text-center mt-12",children:(0,n.jsxs)("a",{href:"https://shopee.vn/le.foin.original.official",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-leaf hover:text-amber-600 font-semibold text-lg transition-colors",children:[e("shop.viewAll"),(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]})]})}},5495:function(e,t,a){"use strict";a.r(t),a.d(t,{LanguageProvider:function(){return l},useLanguage:function(){return c}});var n=a(3827),r=a(4090);let i=(0,r.createContext)(void 0),s={vi:()=>a.e(360).then(a.t.bind(a,5730,19)).then(e=>e.default),en:()=>a.e(121).then(a.t.bind(a,5121,19)).then(e=>e.default)},o={vi:null,en:null};function l(e){let{children:t}=e,[a,l]=(0,r.useState)("vi"),[c,d]=(0,r.useState)({}),[m,u]=(0,r.useState)(!0),[g,h]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{h(!0)},[]),(0,r.useEffect)(()=>{(async()=>{if(g){u(!0);try{if(o[a]){d(o[a]),u(!1);return}let e=await s[a]();o[a]=e,d(e)}catch(e){console.error("Failed to load translations:",e)}finally{u(!1)}}})()},[a,g]),(0,r.useEffect)(()=>{if(g){let e=localStorage.getItem("locale");e&&("vi"===e||"en"===e)&&l(e)}},[g]),(0,r.useEffect)(()=>{g&&(async()=>{try{let[e,t]=await Promise.all([s.vi(),s.en()]);o.vi=e,o.en=t}catch(e){console.error("Failed to preload translations:",e)}})()},[g]),(0,n.jsx)(i.Provider,{value:{locale:a,setLocale:e=>{l(e),g&&localStorage.setItem("locale",e)},t:e=>!g||m?e:c[e]||e,isLoading:m},children:t})}function c(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useLanguage must be used within a LanguageProvider");return e}}},function(e){e.O(0,[792,971,69,744],function(){return e(e.s=6620)}),_N_E=e.O()}]);